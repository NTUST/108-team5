{% extends 'main/layout.html' %}
{% block content %}

{% load widget_tweaks %}
{% csrf_token %}
    	<style>
			.forum-title{
				font-size: 40px;
				font-weight: bold;
				text-align: center;
				margin: 30px;
			}
			.forum-post{
				background-color: #fff;
				border: .5px #00f solid;
				padding: 20px;
				font-size: 14px;
			}
			.forum-post-title{
				font-size: 1.5em;
				font-weight: bold;
				padding: 10px 0;
				border-bottom: 1px #ddd solid;
			}
			.forum-post-info{
				margin-top: 30px;
			}
			.post-info{
				font-size: .8em;
				background-color: #ffe8ab;
				display: inline-block;
				padding: 10px;
			}
			.post-time{
				font-weight: bold;
			}
			.post-info-2{
				color: #51b2b8;
				margin-top: 20px;
			}
			.post-info-2>span{
				padding-right: 20px;
			}
			.info-thumb{
				display: inline-block;
				margin-right: 50px;
				cursor: pointer;
				transition: transform .2s linear;
			}
			.info-thumb:hover{
				transform: scale(1.2);
			}
			.forum-post-action{
				position: absolute;
				right: 20px;
				top: 20px;
			}
			.post-row{
				margin-bottom: 50px;
			}
			.comment-line{
				color: #fff;
				opacity: .8;
				font-size: 24px;
				border-bottom: 1px #ddd solid;
				margin-bottom: 30px;
			}
			.forum-post-action.forum-comment-action{
				top: auto;
				bottom: 20px;
			}
		</style>
		<script>
			$(document).on('click', '.info-thumb', function(){
				$(this).css({'transform': 'scale(1.2) rotate(360deg)'})
			})
		</script>

			<div class="row w-100 justify-content-center">
				<h1 class="forum-title">{{post.forum.title}}區</h1>
			</div>
		
			<div class="col-md-12" style="background-color: lightblue;">
				<div class="row justify-content-center">
					<div class="col-md-8" style="padding: 0; text-align: right; margin: 20px 0;">
						<button class="btn btn-primary" type="button">撰寫文章</button>
					</div>
				</div>
				<div class="post-row row justify-content-center">
					<div class="forum-post col-md-8">
						<p class="forum-post-title">{{post.title}}</p>
						<p class="forum-post-body">
							{{post.body|safe}}
						</p>
						<div class="forum-post-info">
							<div>
								<div class="post-info">
									<span>張貼於</span>
									<span class="post-time">{{post.postTime}}</span><br>
									<img src="{{post.postUser.userprofile.avatar.url}}" alt="頭像" width="30" height="30">
									<span class="post-user">{{post.postUser.username}}</span>
								</div>
							</div>
							<div class="post-info-2">
								<p class="info-thumb">
									<img src="thumb.png" alt="" width="30" height="30">
								</p>
								<span class="info-thumbcount"><span>{{thumbCount}}</span>個人按讚</span>
								<span class="info-comment"><span>{{comments.count}}</span>則留言</span>
							</div>
						</div>

						<!-- 發文者可以刪除(看你要不要做) -->
						<div class="forum-post-action">
							<a href="#">刪除</a>
						</div>
					</div>
	
				</div>

				<div class="comment-line row justify-content-center">
					留言區
				</div>

				{% for comment in comments %}
					<div class="forum-comment row justify-content-center">
						<div class="forum-post col-md-8">
							<p class="forum-post-body">
								{{comment.body}}
							</p>
							<div class="forum-post-info">
								<div>
									<div class="post-info">
										<span>留言於</span>
										<span class="post-time">{{comment.commentTime}}</span><br>
										<img src="{{comment.postUser.userprofile.avatar.url}}" alt="頭像" width="30" height="30">
										<span class="post-user">{{comment.postUser}}</span>
									</div>
								</div>
							</div>

							<!-- 發文者可以刪除(看你要不要做) -->
							<div class="forum-post-action forum-comment-action">
								<a href="#">刪除</a>
							</div>
						</div>
					</div>
				{% endfor %}
				
		<div>



<form method="post">
</form> 

{% endblock content %}